<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Health & Social Employment Leaderboard</title>
  <link rel="stylesheet" href="styles/style.css" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <!-- Assignment metadata badge -->
  <div class="student-meta">
    COS30045 | Antony Stevens (4162565) | Assignment 3C
  </div>

  <div class="container">
    <header>
      <h1>Health & Social Employment</h1>
      <p class="subtitle">Top countries by number of health & social workers per 1,000 inhabitants</p>
    </header>

    <div id="storyBox" class="story-box"></div>


    <section class="controls">
        <div class="slider-control">
        <button id="decreaseBtn">–</button>
        <input type="range" id="rankSlider" min="1" max="40" value="10">
        <button id="increaseBtn">+</button>
        <span id="sliderValue">10</span>
        </div>

        <div class="control">
            <label for="countrySearch">Search country:</label>
            <input type="text" id="countrySearch" placeholder="e.g. Norway" />
            <span id="searchResult"></span>
        </div>
    </section>

    <main>
      <div id="chart"></div>
      <div id="tooltip" class="hidden"></div>
    </main>

    <footer>
      <p>Source: OECD Health Statistics | COS30045 Data Visualisation</p>
    </footer>
  </div>

  <!-- FAQ Panel and Toggle -->
  <div class="faq-panel">
    <button class="faq-toggle">?</button>
    <div class="faq-overlay hidden">
      <div class="faq-content">
        <button class="faq-close">&times;</button>
        <h2>What does this data show?</h2>
        <p>This visualisation displays the most recent employment figures for health and social work professionals across OECD countries, measured per 1,000 inhabitants. The dataset is sourced from the OECD Health Statistics database and represents total employment in the “human health and social work activities” sector. The data reflects workforce density, rather than absolute population or economic performance.</p>
        <p>Users can compare the relative size of health and social employment across different countries. For example, Nordic countries such as Norway and Sweden consistently appear near the top, indicating a strong investment in public health and social services. Conversely, some countries with larger populations but lower per-capita figures appear further down the leaderboard, highlighting systemic differences in healthcare workforce distribution.</p>
        <p>This data is useful for policymakers, researchers, and the public to understand how different health systems are staffed. It may prompt questions about access to care, workforce sustainability, and investment priorities. High per-capita employment could reflect strong welfare states or ageing populations, while lower values may indicate emerging health systems, different care models, or underinvestment in health infrastructure.</p>
      </div>
    </div>
  </div>

  <script src="scripts/barchart.js"></script>
  <script>
  const toggle = document.querySelector(".faq-toggle");
  const overlay = document.querySelector(".faq-overlay");
  const closeBtn = document.querySelector(".faq-close");
  const panelWrapper = document.querySelector(".faq-panel");

  toggle.addEventListener("click", () => {
    overlay.classList.remove("hidden");
    panelWrapper.classList.add("open");
  });

  closeBtn.addEventListener("click", () => {
    overlay.classList.add("hidden");
    panelWrapper.classList.remove("open");
  });

  overlay.addEventListener("click", (e) => {
    if (!e.target.closest(".faq-content")) {
      overlay.classList.add("hidden");
      panelWrapper.classList.remove("open");
    }
  });
</script>

</body>
</html>
